function Partitioner(t,i){this.items=t,this.partitions=i,this.partitionSizes=createPartitions(t,i)}function createPartitions(t,r){var e=Math.floor(t.length/r);console.log("minPartitionSize:"+e);var n=t.length%r;console.log("carryOver:"+n);var o=new Array(r);for(i=0;i<r;i++)o[i]=e;for(var a=0;n>0;)o[a]=e+1,n--,a++;return o}function Iterator(t){for(this.maxItemCount=t.getItemCount(),this.items=t.getItems(),this.partitionCount=t.getPartitionCount(),this.itemsCounted=0,this.partitionItemIndex=new Array(this.partitionCount),i=0;i<this.partitionCount;i++)this.partitionItemIndex[i]=0;this.partitionItems=create2DArray(this.partitionCount);var r=0,e=0,n=t.getPartitionSizes();for(currItemIndex=0;currItemIndex<this.maxItemCount;currItemIndex++){var o=n[e];o==r&&(e++,r=0),this.partitionItems[e][r]=this.items[currItemIndex],r++}console.log(this.partitionItems)}function create2DArray(t){for(var i=[],r=0;t>r;r++)i[r]=[];return i}Partitioner.prototype.getPartitionCount=function(){return this.partitions},Partitioner.prototype.getPartitionSizes=function(){return this.partitionSizes},Partitioner.prototype.getMaxPartitionSize=function(){return Math.max.apply(null,this.partitionSizes)},Partitioner.prototype.getItems=function(){return this.items},Partitioner.prototype.getItemCount=function(){return this.items.length},Partitioner.prototype.getIterator=function(){return new Iterator(this)},Iterator.prototype.hasNext=function(){return this.itemsCounted<this.maxItemCount},Iterator.prototype.next=function(){if(this.itemsCounted>this.maxItemCount)return null;var t=this.itemsCounted%this.partitionCount,i=this.partitionItemIndex[t],r=this.partitionItems[t][i];return this.partitionItemIndex[t]++,this.itemsCounted++,r};